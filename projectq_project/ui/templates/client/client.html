{% extends "base.html" %}
{% block title %} {{ block.super }} - Clients {% endblock %}
{% block content %}
<!--
  ~ Copyright (c) 2019. Sophos Limited
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="page-inner">
    <div class="page-header">
        <h4 class="page-title">Clients</h4>
        <ul class="breadcrumbs">
            <li class="nav-home">
                <a href="/">
                    <i class="flaticon-home"></i>
                </a>
            </li>
            <li class="separator">
                <i class="flaticon-right-arrow"></i>
            </li>
            <li class="nav-item">
                <a href="#">Clients</a>
            </li>
            <li class="separator">
                <i class="flaticon-right-arrow"></i>
            </li>
            <li class="nav-item">
                <a href="#">{{platform}}</a>
            </li>
        </ul>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Clients on {{platform}} platform</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table id="basic-datatables" class="display table table-striped table-hover">
                            {% for client in clients %}
                            {% if forloop.first %}
                            <thead>
                                <tr>
                                    {% for key, value in client.items %}
                                    <th>{{ key }}</th>
                                    {% endfor%}
                                </tr>
                            </thead>
                            <tbody>
                                {% endif %}

                                <tr>
                                    {% for key, value in client.items %}
                                    <td>
                                        {% if key == "ip" %}
                                        <a href='/clients/{{value}}'>{{ value }}</a>
                                        {% else %}
                                        {{ value }}
                                        {% endif %}
                                    </td>
                                    {% endfor %}
                                </tr>
                                {% if forloop.last %}
                            </tbody>
                            {% endif %}
                            {% endfor%}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- </div> -->
{% endblock %}
{% block end %}
<!-- Datatables -->
<script src="/static/js/plugin/datatables/datatables.min.js"></script>
<script>
    $(document).ready(function () {
        $('#basic-datatables').DataTable({
        });
    });
</script>
{% endblock end %}